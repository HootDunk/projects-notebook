(()=>{"use strict";const e=()=>{document.querySelector(".modal-guts").innerHTML='\n  <h1>Edit Task</h1>\n  <form id="modal-form">\n    <div class="form-row">\n      <label for="title">Title:</label>\n      <input type="text" id="title" name="title" value="">\n      <label for="due-date">Due Date:</label>\n      <input type="date" id="date" name="date" value="">\n    </div>\n    <div class="form-row">\n      <label>Difficulty</label>\n    </div>\n    <div class="form-row">\n      <div class="radio-toolbar">\n        <input type="radio" id="radio1" name="radios" value="#F5D346">\n        <label for="radio1">Low</label>\n        <input type="radio" id="radio2" name="radios" value="#D98121">\n        <label for="radio2">Medium</label>\n        <input type="radio" id="radio3" name="radios" value="#D3151C">\n        <label for="radio3">High</label>\n      </div>\n    </div>\n      <div class="form-row">\n        <label for="description">Description</label>\n      </div>\n      <div class="form-row">\n        <textarea id="description" name="description"></textarea>\n      </div>\n      <div class="form-row bottom">\n        <button type="button">Delete</button>\n        <button type="submit">Submit</button>\n      </div>\n  </form>\n  '},t=(()=>{const e=document.querySelector(".modal-guts"),t=document.querySelector("#modal"),o=document.querySelector("#modal-overlay");return{newProjectHTML:()=>{e.innerHTML='\n      <h1>New Project</h1>\n      <form id="modal-form">\n  \n        <div class="form-row">\n          <label for="project-title">Title:</label>\n        </div>\n  \n        <div class="form-row">\n          <input type="text" id="project-title" name="project-title" required />\n        </div>\n  \n  \n          <div class="form-row">\n            <label for="project-description">Description</label>\n          </div>\n          <div class="form-row">\n            <textarea id="project-description" name="project-description" required></textarea>\n          </div>\n          <div class="form-row bottom">\n            <button type="button">Delete</button>\n            <button type="submit">Submit</button>\n          </div>\n      </form>\n\n    '},toggle:()=>{t.classList.toggle("closed"),o.classList.toggle("closed")}}})(),o=(()=>{const e=document.getElementById("dynamic-projects");return{renderProjects:t=>{t.forEach((t=>{e.innerHTML+=`<h2 data-id='${t.id}' class="project project-name">${t.name}</h2>`}))},clearProjects:()=>{e.innerHTML=""},setBackground:e=>{const t=Array.from(document.getElementsByClassName("project"));t.forEach((t=>{t.getAttribute("data-id")==e?t.style.backgroundColor="#444a4d":t.style.backgroundColor="transparent"})),console.log(t)}}})(),n=(()=>{const e=document.getElementById("task-grouping");return{clear:()=>{e.innerHTML=""},render:t=>{t.length?t.forEach((t=>{var o;e.innerHTML+=`\n    <div data-id="${(o=t).id}" class="task-item">\n      <div class="task accordian">\n  \n        <div style="background-color:${o.priority}"id="priority-style"></div>\n        <input type="checkbox" class="todo-completed" ${1==o.complete?"checked":""}>\n        <h2 class="title">${o.title}</h2>\n        <h2 class="date">In X days</h2>\n  \n      </div>\n      <div class="task-full inactive">\n        <div class="description-top">\n          <h3>Description:</h3>\n          <h3>10/20/20</h3>\n          <i class="fas fa-ellipsis-v task-edit"></i>\n        </div>\n        <p>${o.description}</p>\n      </div>\n    </div>\n    `})):console.log("no tasks yet")},renderAll:e=>{e.forEach((e=>{n.render(e.todoList)}))}}})();var r,i=new Uint8Array(16);function d(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const m=function(e,t,o){var n=(e=e||{}).random||(e.rng||d)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var r=0;r<16;++r)t[o+r]=n[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!s(o))throw TypeError("Stringified UUID is invalid");return o}(n)},u=localStorage.length?JSON.parse(localStorage.getItem("user")):[],p=(e,t,o)=>{const n=new y(e,t);o.push(n)},g=(e,t)=>{t.forEach((t=>t.id==e?t.active=!0:t.active=!1))},f=e=>e.find((e=>1==e.active)),v=(e,t,o,n,r)=>{const i=new h(e,t,o,n);r.forEach((e=>{1==e.active&&e.addTodo(i)}))};function y(e,t){this.id=m(),this.name=e,this.description=t,this.active=!1,this.todoList=[]}function h(e,t,o,n){this.id=m(),this.title=e,this.description=t,this.priority=o,this.complete=!1,this.dueDate=n}y.prototype.addTodo=function(e){this.todoList.push(e)},y.prototype.toggleActive=function(){this.active=!this.active},y.prototype.deleteTodoItem=function(e){const t=this.todoList.findIndex((t=>t.id==e));this.todoList.splice(t,1)},y.prototype.getTodoItem=function(e){return this.todoList.find((t=>t.id==e))},h.prototype.sayID=function(){console.log(this.id)},h.prototype.toggleComplete=function(){this.complete=!this.complete};const b=(()=>{const r=document.querySelector("#close-button"),i=document.getElementById("new-project"),d=document.getElementById("new-task"),a=document.getElementById("edit-project");return{modalClose:()=>{r.addEventListener("click",(function(){t.toggle()}))},newProject:()=>{i.addEventListener("click",(()=>{t.newProjectHTML(),(()=>{const e=document.getElementById("modal-form");e.addEventListener("submit",(n=>{n.preventDefault(),p(e["project-title"].value,e["project-description"].value,u),o.clearProjects(),o.renderProjects(u),E.projectNames(),t.toggle()}))})(),t.toggle()}))},newTask:()=>{d.addEventListener("click",(()=>{e(),(()=>{const e=document.getElementById("modal-form");e.addEventListener("submit",(o=>{o.preventDefault();const r={title:e.title.value,dueDate:e.date.value,priority:e.radios.value,description:e.description.value};v(r.title,r.description,r.priority,r.dueDate,u);const i=f(u);n.clear(),n.render(i.todoList),E.editTaskBtns(),E.expandedTodo(),E.todoCheckBoxes(),t.toggle()}))})(),t.toggle()}))},allBtn:e=>{document.getElementById("all-projects").addEventListener("click",(t=>{n.clear(),n.renderAll(e),o.setBackground(t.target.getAttribute("data-id")),E.editTaskBtns(),E.expandedTodo(),E.todoCheckBoxes()}))},editProject:()=>{a.addEventListener("click",(()=>{console.log("lets edit the project"),f(u)}))}}})(),E={todoCheckBoxes:()=>{Array.from(document.getElementsByClassName("todo-completed")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.parentElement.parentElement.getAttribute("data-id");console.log(t)}))}))},expandedTodo:()=>{Array.from(document.getElementsByClassName("accordian")).forEach((e=>{e.addEventListener("click",(t=>{"todo-completed"!=t.target.className&&e.nextElementSibling.classList.toggle("inactive")}))}))},editTaskBtns:()=>{Array.from(document.getElementsByClassName("task-edit")).forEach((o=>{o.addEventListener("click",(o=>{e(),t.toggle()}))}))},projectNames:()=>{Array.from(document.getElementsByClassName("project-name")).forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id");g(t,u);const r=f(u);(e=>{const t=document.getElementById("active-title"),o=document.getElementById("active-description");t.innerHTML=e.name,o.innerHTML=e.description})(r),n.clear(),n.render(r.todoList),o.setBackground(t),E.editTaskBtns(),E.expandedTodo(),E.todoCheckBoxes()}))}))}};b.modalClose(),b.newProject(),b.newTask(),b.editProject(),localStorage.length?(console.log(u),b.allBtn(u),u.sort(((e,t)=>e.name.localeCompare(t.name))),o.renderProjects(u),E.projectNames(),n.clear(),n.renderAll(u),E.editTaskBtns(),E.expandedTodo(),E.todoCheckBoxes()):console.log("no data found")})();